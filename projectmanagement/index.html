<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
    <link rel="apple-touch-icon" href="/images/icon-180.png" sizes="180x180">
    <link rel="icon" type="image/png" href="/images/icon-192.png" sizes="192x192">

    <link rel="manifest" href="/manifest.json">
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Management Fundamentals - English For Cool Dudes</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* --- BASE & LAYOUT STYLES (Matching New Site) --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: #F8F9FB; /* Light background */
            color: #2C3E50;
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }

        /* Header (Global Nav Bar) */
        .header {
            background: #FFFFFF;
            border-bottom: 1px solid #E5E9F2;
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0,0,0,0.04);
        }

      .header-wrapper {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

.header-link {
    display: flex;
    align-items: center;
    gap: 15px;
    text-decoration: none;
    color: #2C3E50;
}

.header-link:hover {
    opacity: 0.9;
}

.header-content:hover {
     opacity: 0.9; /* Subtle visual feedback on hover */
}

        .logo {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .site-title {
            font-size: 20px;
            font-weight: 800;
            color: #1A202C;
            letter-spacing: -0.02em;
        }

        /* Main Container for Lesson */
        .container-main {
            max-width: 900px;
            margin: 30px auto;
            padding: 30px 20px;
            background-color: #FFFFFF; /* White card background */
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid #E5E9F2;
        }

        /* Lesson Specific Styles */
        .lesson-main-title {
            font-size: 2.5em;
            font-weight: 800;
            color: #1A202C;
            margin-bottom: 10px;
            letter-spacing: -0.02em;
        }

        .lesson-section {
            background-color: #F8F9FB; /* Very light background for content */
            padding: 30px;
            border-radius: 10px;
            border: 1px solid #E5E9F2;
        }
        
        /* === PARAGRAPH LINE BREAKS/SPACING FIX (from previous step) === */
        .lesson-section p {
            margin-bottom: 20px; /* Force 20px spacing after each paragraph */
            line-height: 1.8; /* Make the text easier to read with looser line height */
        }
        /* Overriding the last paragraph's new margin */
        .lesson-section p.text-sm {
            margin-bottom: 0;
            line-height: 1.6;
        }
        /* =========================================== */

        .section-title {
            color: #2980B9; /* Primary Blue for section headers */
            font-size: 1.8em;
            font-weight: 800;
            margin-bottom: 20px;
            padding-bottom: 5px;
            border-bottom: 2px dashed #E5E9F2;
        }

        /* --- DICTIONARY STYLES (NEW) --- */
        .dict-term {
            cursor: pointer;
            font-weight: 800; /* Keep bold style */
            color: #2980B9; /* Use a distinct blue color */
            border-bottom: 2px dotted #2980B9; /* Add a dotted underline */
            text-decoration: none;
            display: inline;
        }
        .dict-term:hover {
            color: #667EEA; /* Lighter color on hover */
            border-bottom-color: #667EEA;
        }

        .dictionary-popup {
            position: absolute;
            z-index: 1000;
            width: 280px;
            padding: 15px;
            background-color: #FFFFFF;
            border: 1px solid #E5E9F2;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            display: none; /* Hidden by default */
        }
        .dictionary-popup-word {
            font-size: 1.2em;
            font-weight: 800;
            color: #764BA2; /* Purple for the term */
            margin-bottom: 8px;
            border-bottom: 1px solid #E5E9F2;
            padding-bottom: 5px;
        }
        .dictionary-popup-definition {
            font-size: 1em;
            color: #2C3E50;
            line-height: 1.5;
        }
        /* --- END DICTIONARY STYLES --- */

        /* --- INTERACTIVE ELEMENT STYLES --- */
        .word-bank-item, .conversation-option {
            cursor: pointer;
            padding: 10px 15px;
            margin: 6px;
            border-radius: 20px;
            background-color: #FFFFFF;
            color: #2C3E50;
            border: 2px solid #E5E9F2;
            transition: all 0.2s;
            font-weight: 600;
            display: inline-block;
        }

        .word-bank-item:hover, .conversation-option:hover {
            border-color: #667EEA;
            box-shadow: 0 2px 5px rgba(102, 126, 234, 0.2);
        }

        .selected {
            background: #2980B9; /* Primary Blue Selected */
            color: white !important;
            border-color: #2980B9 !important;
        }
        
        /* NEW: Flashing Animation for Incorrect Matches */
        @keyframes incorrect-flash {
            0% { background-color: #f7b4b4; border-color: #e74c3c; color: #a00; } /* Light Red */
            50% { background-color: #E74C3C; border-color: #f7b4b4; color: white; } /* Strong Red */
            100% { background-color: #f7b4b4; border-color: #e74c3c; color: #a00; } /* Light Red */
        }

        .incorrect-flash {
            animation: incorrect-flash 0.5s 2;
        }

        /* Base style for a correct match (color handled dynamically by JS) */
        .matched-correct {
            color: #fff;
            border: 2px solid #fff;
            pointer-events: none;
            cursor: default;
        }

        /* Custom Classes for Cycling Colors (Light Theme Palette) */
        .match-color-1 { background-color: #27AE60; border-color: #27AE60; } /* Emerald */
        .match-color-2 { background-color: #8E44AD; border-color: #8E44AD; } /* Wisteria */
        .match-color-3 { background-color: #F39C12; border-color: #F39C12; } /* Orange */
        .match-color-4 { background-color: #3498DB; border-color: #3498DB; } /* Peter River */
        

        /* Consistent feedback colors */
        .correct-feedback {
            background-color: #D4EDDA; /* Light Green */
            color: #155724; /* Dark Green Text */
            border: 1px solid #C3E6CB;
        }
        .incorrect-feedback {
            background-color: #F8D7DA; /* Light Red */
            color: #721C24; /* Dark Red Text */
            border: 1px solid #F5C6CB;
        }
        
        /* Gap Fill Styles */
        .gap {
            display: inline-block;
            min-width: 140px;
            height: 30px;
            padding: 0 6px;
            border-bottom: 2px solid #3498DB; /* Blue Dash */
            text-align: center;
            line-height: 30px;
            color: #2980B9;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.1s;
        }
        .gap.correct-answer {
            border-bottom: 2px solid #27AE60; /* Green Solid */
            color: #27AE60;
        }
        .gap.incorrect-answer {
            border-bottom: 2px solid #E74C3C; /* Red Solid */
            color: #E74C3C;
        }

        /* Button Styling */
        .check-button {
            background: linear-gradient(45deg, #667EEA 0%, #764BA2 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 700;
            margin-top: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(102, 126, 234, 0.4);
        }
        .check-button:hover {
            box-shadow: 0 6px 15px rgba(102, 126, 234, 0.5);
            transform: translateY(-1px);
        }

        .conversation-text strong {
            font-weight: 800;
        }
        .text-pm { color: #667EEA; } /* PM Text - Primary */
        .text-client { color: #3498DB; } /* Client Text - Secondary Blue */

        /* Footer */
        .footer {
            background: #FFFFFF;
            border-top: 1px solid #E5E9F2;
            padding: 32px 20px;
            margin-top: 40px;
            text-align: center;
        }

        .footer-text {
            font-size: 14px;
            color: #718096;
        }
    </style>
</head>
<body>
    <header class="header">
    <div class="header-wrapper">
        <a href="/business/" class="header-link">
            <div class="logo">üòé</div> 
            <span class="site-title">English For Cool Dudes</span> 
        </a>
    </div>
</header>

    <div class="container-main">

        <header class="text-center pb-8 mb-8 border-b border-gray-200">
            <p class="text-lg font-medium text-gray-500 mb-1">Essential Business English for Project Teams</p>
            <h1 class="lesson-main-title">‚öôÔ∏è Project Management: The Triple Constraint</h1>
            <p class="text-xl text-gray-500">Mastering the vocabulary for managing Scope, Time, and Cost.</p>
        </header>

        <section class="mb-10">
            <h2 class="section-title">1. Reading: The Iron Triangle and Quality üìñ</h2>
            <div class="lesson-section">
                <p>The core concept in project management is the <span class="dict-term" data-term="Triple Constraint">Triple Constraint</span> (the "Iron Triangle"). This model says every project must balance three key variables: <span class="dict-term" data-term="Scope">Scope</span>, Time, and Cost.</p>
                
                <p>Scope defines the project's features and deliverables. Time is the schedule, including the Critical Path and the final deadline. Cost is the budget, which helps <span class="dict-term" data-term="determine">determine</span> the project's Baseline (the <span class="dict-term" data-term="approved">approved</span> plan).</p>
                
                <p>A change to one variable must change at least one other. For example, if a client demands more Scope<("Scope Creep"), you must either increase the Cost (hire more people) or increase the Time (extend the deadline).</p>
                
                <p>The centre point, Quality, is affected by all three. Cutting corners on Time or Cost to maintain Scope often leads to a drop in Quality and risks the final Deliverable.</p>
                
                <p class="text-sm font-semibold text-gray-500 mt-6 pt-4 border-t border-gray-200">Key to successful project delivery is continuous risk assessment and transparent communication with all <span class="dict-term" data-term="stakeholders">stakeholders</span>.</p>
            </div>
        </section>

        <section class="mb-10">
            <h2 class="section-title">2. Exercise A: Project Management Terminology üéØ</h2>
            <p class="mb-4 text-gray-600">Match the key project management term to its correct definition. (Watch for the correct match color changes!)</p>
            <div id="vocab-matching" class="lesson-section grid grid-cols-1 md:grid-cols-2 gap-8">
                <div id="terms-list" class="space-y-4">
                    <div class="word-bank-item" data-term="Deliverable">Deliverable</div>
                    <div class="word-bank-item" data-term="Scope Creep">Scope Creep</div>
                    <div class="word-bank-item" data-term="Critical Path">Critical Path</div>
                    <div class="word-bank-item" data-term="Baseline">Baseline</div>
                </div>
                <div id="definitions-list" class="space-y-4">
                    <div class="word-bank-item" data-answer="Baseline">The original, approved project plan for schedule, cost, and scope against which performance is measured.</div>
                    <div class="word-bank-item" data-answer="Deliverable">Any measurable, tangible result, product, or service that must be produced to complete the project.</div>
                    <div class="word-bank-item" data-answer="Scope Creep">Uncontrolled expansion of project requirements without adjusting the time, cost, or resources.</div>
                    <div class="word-bank-item" data-answer="Critical Path">The sequence of tasks that determines the shortest time possible to complete the project.</div>
                </div>
            </div>
            <div id="vocab-feedback" class="mt-4 p-3 rounded-lg text-center font-semibold hidden"></div>
        </section>

        <section class="mb-10">
            <h2 class="section-title">3. Exercise B: Conversation Practice üó£Ô∏è</h2>
            <p class="mb-4 text-gray-600">Select the best word/phrase to fill the gaps in the following conversation between a Project Manager (PM) and a Client. (7 Gaps, 7 Words)</p>
            
            <div id="conversation-options" class="flex flex-wrap gap-2 mb-6">
                <div class="conversation-option" data-word="deliverable">deliverable</div>
                <div class="conversation-option" data-word="milestone">milestone</div>
                <div class="conversation-option" data-word="constraint">constraint</div>
                <div class="conversation-option" data-word="risk">risk</div>
                <div class="conversation-option" data-word="stakeholders">stakeholders</div>
                <div class="conversation-option" data-word="re-evaluate">re-evaluate</div>
                <div class="conversation-option" data-word="budget">budget</div>
            </div>

            <div class="lesson-section text-lg conversation-text">
                <p class="mb-4"><strong class="text-client">Client:</strong> I've just had an idea‚Äîcan we add a live analytics dashboard to the final <span class="gap" data-answer="deliverable" data-word-bank="conversation-options"></span>?</p>
                <p class="mb-4"><strong class="text-pm">PM:</strong> That sounds valuable, but it's a significant scope addition. We need to be mindful of the **Triple <span class="gap" data-answer="constraint" data-word-bank="conversation-options"></span>**; a change in scope automatically impacts time or cost. Adding that will push our current <span class="gap" data-answer="milestone" data-word-bank="conversation-options"></span> back by two weeks.</p>
                <p class="mb-4"><strong class="text-client">Client:</strong> Two weeks is too long. What if we stick to the original deadline, but use less expensive software licenses? </p>
                <p class="mb-4"><strong class="text-pm">PM:</strong> That poses a major **<span class="gap" data-answer="risk" data-word-bank="conversation-options"></span>** to quality, as those licenses may not meet the security requirements. I recommend we **<span class="gap" data-answer="re-evaluate" data-word-bank="conversation-options"></span>** the entire schedule and discuss the updated **<span class="gap" data-answer="budget" data-word-bank="conversation-options"></span>** with all the key **<span class="gap" data-answer="stakeholders" data-word-bank="conversation-options"></span>** before we proceed.</p>
            </div>
            <button onclick="checkGaps('conversation-options')" class="check-button">Check Conversation</button>
            <div id="conversation-feedback" class="mt-4 p-3 rounded-lg text-center font-semibold hidden"></div>
        </section>

        <section class="mb-10 p-6 rounded-lg lesson-section">
            <h2 class="section-title">Conclusion üéâ</h2>
            <p class="text-lg mb-4 text-gray-600">You have successfully completed the core vocabulary of the **Triple Constraint** lesson. Keep practicing!</p>
            
        </section>

    </div>
    
    <div id="dictionary-popup" class="dictionary-popup">
        <div id="popup-word" class="dictionary-popup-word"></div>
        <div id="popup-definition" class="dictionary-popup-definition"></div>
    </div>
    <footer class="footer">
        <p class="footer-text">¬© 2025 English For Cool Dudes - Learn British English effectively</p>
    </footer>

    <script>
        let matchingDone = false;
        let conversationDone = false;
        let selectedWordBankItem = null;
        
        let matchColorIndex = 0;
        const MATCH_COLORS = ['match-color-1', 'match-color-2', 'match-color-3', 'match-color-4']; 

        // --- DICTIONARY DATA (NEW) ---
        const DICTIONARY = {
            'Triple Constraint': 'The concept that scope, time, and cost are inter-dependent factors in every project.',
            'Scope': 'The boundaries and deliverables of a project, specifying what is included and what is not.',
            'determine': 'To establish or settle exactly; to officially decide.',
            'approved': 'Officially acceptable or satisfactory; having received formal consent.',
            'stakeholders': 'Any person, group, or organization who can be affected by a project or who can influence its outcome.'
        };

        // --- DICTIONARY LOGIC (NEW) ---
        function setupDictionary() {
            const dictionaryTerms = document.querySelectorAll('.dict-term');
            const popup = document.getElementById('dictionary-popup');
            const popupWord = document.getElementById('popup-word');
            const popupDefinition = document.getElementById('popup-definition');

            dictionaryTerms.forEach(term => {
                term.addEventListener('click', (event) => {
                    // Stop event propagation to prevent immediate document click from closing
                    event.stopPropagation(); 
                    
                    const word = term.dataset.term;
                    const definition = DICTIONARY[word];
                    
                    if (definition) {
                        popupWord.textContent = word;
                        popupDefinition.textContent = definition;

                        // Calculate position
                        const rect = term.getBoundingClientRect();
                        const popupWidth = 280; // Fixed width from CSS

                        // Center horizontally relative to the clicked word
                        let left = rect.left + window.scrollX + (rect.width / 2) - (popupWidth / 2);
                        let top = rect.bottom + window.scrollY + 10; // 10px below the word

                        // Adjust if too far left
                        if (left < 20) {
                            left = 20;
                        }
                        // Adjust if too far right
                        if (left + popupWidth > window.innerWidth - 20) {
                            left = window.innerWidth - popupWidth - 20;
                        }
                        
                        popup.style.left = `${left}px`;
                        popup.style.top = `${top}px`;
                        popup.style.display = 'block';
                    }
                });
            });

            // Close pop-up when clicking anywhere else
            document.addEventListener('click', (event) => {
                if (popup.style.display === 'block' && !popup.contains(event.target)) {
                    popup.style.display = 'none';
                }
            });

            // Close pop-up on Escape key
            document.addEventListener('keydown', (event) => {
                if (event.key === 'Escape') {
                    popup.style.display = 'none';
                }
            });
        }
        // --- END DICTIONARY LOGIC ---

        // --- VOCABULARY MATCHING LOGIC (Exercise A) ---
        function setupMatching() {
            const terms = document.querySelectorAll('#terms-list .word-bank-item');
            const definitions = document.querySelectorAll('#definitions-list .word-bank-item');

            terms.forEach(item => item.addEventListener('click', () => selectWord(item, 'term')));
            definitions.forEach(item => item.addEventListener('click', () => selectWord(item, 'definition')));
        }

        function selectWord(item, type) {
            if (matchingDone || item.classList.contains('matched-correct')) return;

            // Deselect any previously selected item of the same type
            document.querySelectorAll(`#${type === 'term' ? 'terms-list' : 'definitions-list'} .selected`).forEach(el => el.classList.remove('selected', 'incorrect-flash'));

            // Select the current item
            item.classList.add('selected');

            const selectedTerm = document.querySelector('#terms-list .selected');
            const selectedDefinition = document.querySelector('#definitions-list .selected');

            if (selectedTerm && selectedDefinition) {
                if (selectedTerm.dataset.term === selectedDefinition.dataset.answer) {
                    // Correct Match!
                    
                    const colorClass = MATCH_COLORS[matchColorIndex];
                    matchColorIndex = (matchColorIndex + 1) % MATCH_COLORS.length;
                    
                    selectedTerm.classList.add('matched-correct', colorClass);
                    selectedDefinition.classList.add('matched-correct', colorClass);
                    
                    selectedTerm.classList.remove('selected');
                    selectedDefinition.classList.remove('selected');
                    
                    const feedbackEl = document.getElementById('vocab-feedback');
                    feedbackEl.textContent = "üî® Correct Match!";
                    feedbackEl.classList.remove('hidden', 'incorrect-feedback');
                    feedbackEl.classList.add('correct-feedback');
                    
                    setTimeout(() => {
                        if (!matchingDone) {
                             feedbackEl.classList.add('hidden');
                        }
                    }, 1500);
                    
                    checkAllMatched();
                } else {
                    // Incorrect Match - Flash Red
                    
                    selectedTerm.classList.add('incorrect-flash');
                    selectedDefinition.classList.add('incorrect-flash');

                    const feedbackEl = document.getElementById('vocab-feedback');
                    feedbackEl.textContent = "‚ùå Incorrect. Try again.";
                    feedbackEl.classList.remove('hidden', 'correct-feedback');
                    feedbackEl.classList.add('incorrect-feedback');
                    
                    // Deselect incorrect words after flashing (This implements the requested deselect behavior)
                    setTimeout(() => {
                        selectedTerm.classList.remove('selected', 'incorrect-flash');
                        selectedDefinition.classList.remove('selected', 'incorrect-flash');
                        feedbackEl.classList.add('hidden');
                    }, 1000); 
                }
            }
        }

        function checkAllMatched() {
            const unmatchedTerms = document.querySelectorAll('#terms-list .word-bank-item:not(.matched-correct)').length;
            if (unmatchedTerms === 0 && !matchingDone) {
                matchingDone = true;
                const feedbackEl = document.getElementById('vocab-feedback');
                feedbackEl.textContent = "‚úÖ All terms matched correctly! Excellent work!";
                feedbackEl.classList.remove('hidden', 'incorrect-feedback');
                feedbackEl.classList.add('correct-feedback');
            }
        }

        // --- CONVERSATION GAP-FILL LOGIC (Exercise B) ---
        function setupGapFill() {
            const options = document.querySelectorAll('#conversation-options .conversation-option');
            const gaps = document.querySelectorAll('.gap[data-word-bank="conversation-options"]');

            options.forEach(option => option.addEventListener('click', () => {
                if (conversationDone) return;
                
                if (option.classList.contains('selected')) {
                    option.classList.remove('selected');
                    selectedWordBankItem = null;
                    return;
                }

                if (selectedWordBankItem) {
                    selectedWordBankItem.classList.remove('selected');
                }
                
                selectedWordBankItem = option;
                selectedWordBankItem.classList.add('selected');
            }));

            gaps.forEach(gap => gap.addEventListener('click', () => {
                if (conversationDone) return;

                const oldWord = gap.dataset.selectedWord;
                
                if (oldWord) {
                    const oldItem = document.querySelector(`.conversation-option[data-word="${oldWord}"]`);
                    if (oldItem) oldItem.style.display = 'inline-block';
                    
                    gap.textContent = '';
                    gap.dataset.selectedWord = '';
                    gap.classList.remove('correct-answer', 'incorrect-answer');
                }

                if (selectedWordBankItem) {
                    gap.textContent = selectedWordBankItem.dataset.word;
                    gap.dataset.selectedWord = selectedWordBankItem.dataset.word;
                    
                    selectedWordBankItem.style.display = 'none';
                    selectedWordBankItem.classList.remove('selected');
                    selectedWordBankItem = null;
                }
            }));
        }

        function checkGaps(wordBankId) {
            if (conversationDone) return;
            let correctCount = 0;
            const gaps = document.querySelectorAll(`.gap[data-word-bank="${wordBankId}"]`);
            const feedbackEl = document.getElementById('conversation-feedback');
            
            feedbackEl.classList.remove('hidden', 'correct-feedback', 'incorrect-feedback');
            
            gaps.forEach(gap => {
                gap.classList.remove('correct-answer', 'incorrect-answer');
                const selectedWord = gap.dataset.selectedWord ? gap.dataset.selectedWord.toLowerCase() : '';
                const answer = gap.dataset.answer.toLowerCase();

                if (selectedWord === answer) {
                    correctCount++;
                    gap.classList.add('correct-answer');
                } else if (selectedWord !== '') {
                    gap.classList.add('incorrect-answer');
                }
            });

            if (correctCount === gaps.length) {
                feedbackEl.textContent = `üéâ Spot On! You filled all ${gaps.length} gaps correctly! Time to manage a project! ‚öôÔ∏è`;
                feedbackEl.classList.add('correct-feedback');
                conversationDone = true;
            } else {
                feedbackEl.textContent = `You got ${correctCount} out of ${gaps.length} correct. Review the sections highlighted in red and try again!`;
                feedbackEl.classList.add('incorrect-feedback');
            }
            feedbackEl.classList.remove('hidden');
        }


        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            setupMatching();
            setupGapFill();
            setupDictionary(); // Initialize the new dictionary feature
        });
    </script>
</body>
</html>
