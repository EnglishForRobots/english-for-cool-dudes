<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/png" href="/favicon.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tax English: Transfer Pricing Mastery</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .header h1 {
            color: #4a5568;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            color: #718096;
            font-size: 1.1em;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #48bb78, #38a169);
            width: 0%;
            transition: width 0.5s ease;
        }

        .score {
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
            color: #4a5568;
            margin-bottom: 20px;
        }

        .lesson-section {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            display: none;
        }

        .lesson-section.active {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            color: #2d3748;
            font-size: 1.8em;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
            padding-left: 15px;
        }

        .vocab-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .vocab-card {
            background: #f7fafc;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .vocab-card:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .vocab-term {
            font-weight: bold;
            color: #2d3748;
            font-size: 1.1em;
            margin-bottom: 8px;
        }

        .vocab-definition {
            color: #4a5568;
            line-height: 1.5;
        }

        .quiz-question {
            background: #edf2f7;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .question-text {
            font-size: 1.1em;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .options {
            display: grid;
            gap: 10px;
        }

        .option {
            background: white;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .option:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .option.correct {
            background: #c6f6d5;
            border-color: #48bb78;
        }

        .option.incorrect {
            background: #fed7d7;
            border-color: #f56565;
        }

        .drag-drop-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 20px 0;
        }

        .drag-items, .drop-zones {
            background: #f7fafc;
            padding: 20px;
            border-radius: 10px;
            min-height: 200px;
        }
        
        .drag-items {
            display: flex;
            flex-wrap: wrap;
            align-content: flex-start;
        }

        .drag-item {
            background: #667eea;
            color: white;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 8px;
            cursor: grab;
            display: inline-block;
            transition: all 0.3s ease;
        }

        .drag-item:active {
            cursor: grabbing;
        }

        .drop-zone {
            border: 2px dashed #cbd5e0;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            min-height: 50px;
            transition: all 0.3s ease;
        }

        .drop-zone.drag-over {
            border-color: #667eea;
            background: #f0f4ff;
        }
        
        /* New classes for drag and drop results */
        .drop-zone.correct-match {
            border-color: #48bb78;
            background: #c6f6d5;
        }
        
        .drop-zone.incorrect-match {
            border-color: #f56565;
            background: #fed7d7;
        }


        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .scenario-box {
            background: #fff5f5;
            border-left: 4px solid #f56565;
            padding: 20px;
            border-radius: 0 10px 10px 0;
            margin: 20px 0;
        }

        .feedback {
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-weight: 500;
        }

        .feedback.correct {
            background: #c6f6d5;
            color: #22543d;
        }

        .feedback.incorrect {
            background: #fed7d7;
            color: #742a2a;
        }

        .completion-badge {
            text-align: center;
            background: linear-gradient(45deg, #48bb78, #38a169);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
            display: none;
        }

        .completion-badge.show {
            display: block;
            animation: bounceIn 0.6s ease;
        }

        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); opacity: 1; }
        }

        .navigation {
            text-align: center;
            margin: 20px 0;
        }

        .gap-fill {
            background: #f0f4ff;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .gap {
            display: inline-block;
            min-width: 120px;
            padding: 5px 10px;
            margin: 0 5px;
            border: 2px solid #cbd5e0;
            border-radius: 4px;
            background: white;
        }

        .word-bank {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }

        .word-option {
            background: #667eea;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .word-option:hover {
            background: #5a67d8;
            transform: scale(1.05);
        }

        .word-option.used {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üåê International Transfer Pricing</h1>
            <p>Master key vocabulary and concepts for tax professionals</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <div class="score" id="scoreDisplay">Score: 0 / 0</div>
        </div>

        <div class="lesson-section active" id="section1">
            <h2 class="section-title">üìö Key Vocabulary</h2>
            <p style="margin-bottom: 20px;">Click on each term to learn its definition and see it used in context.</p>
            
            <div class="vocab-grid">
                <div class="vocab-card" onclick="revealDefinition(this)">
                    <div class="vocab-term">Transfer Pricing</div>
                    <div class="vocab-definition" style="display: none;">
                        The pricing of transactions between related companies within a multinational enterprise, which must reflect arm's length principles.
                    </div>
                </div>
                
                <div class="vocab-card" onclick="revealDefinition(this)">
                    <div class="vocab-term">Arm's Length Principle</div>
                    <div class="vocab-definition" style="display: none;">
                        The international standard that requires controlled transactions to be priced as if the parties were independent entities.
                    </div>
                </div>
                
                <div class="vocab-card" onclick="revealDefinition(this)">
                    <div class="vocab-term">Related Parties</div>
                    <div class="vocab-definition" style="display: none;">
                        Companies that are under common control or have significant influence over each other's operations.
                    </div>
                </div>
                
                <div class="vocab-card" onclick="revealDefinition(this)">
                    <div class="vocab-term">Controlled Transaction</div>
                    <div class="vocab-definition" style="display: none;">
                        A transaction between two or more members of the same multinational enterprise group.
                    </div>
                </div>
                
                <div class="vocab-card" onclick="revealDefinition(this)">
                    <div class="vocab-term">Comparable Uncontrolled Price (CUP)</div>
                    <div class="vocab-definition" style="display: none;">
                        A transfer pricing method that compares the price for property or services in a controlled transaction to the price charged for comparable property or services in comparable uncontrolled transactions.
                    </div>
                </div>
                
                <div class="vocab-card" onclick="revealDefinition(this)">
                    <div class="vocab-term">Documentation Requirements</div>
                    <div class="vocab-definition" style="display: none;">
                        Legal obligations to maintain records and provide evidence supporting transfer pricing positions to tax authorities.
                    </div>
                </div>
            </div>
            
            <div class="navigation">
                <button class="btn" onclick="nextSection()">Continue to Quiz ‚Üí</button>
            </div>
        </div>

        <div class="lesson-section" id="section2">
            <h2 class="section-title">üéØ Knowledge Check</h2>
            <p style="margin-bottom: 20px;">Test your understanding of transfer pricing concepts.</p>
            
            <div class="quiz-question" id="q1">
                <div class="question-text">1. What is the primary purpose of transfer pricing regulations?</div>
                <div class="options">
                    <div class="option" onclick="selectAnswer(this, false)">To increase tax revenue for governments</div>
                    <div class="option" onclick="selectAnswer(this, true)">To ensure fair allocation of taxable income between jurisdictions</div>
                    <div class="option" onclick="selectAnswer(this, false)">To simplify international business transactions</div>
                    <div class="option" onclick="selectAnswer(this, false)">To reduce compliance costs for multinational companies</div>
                </div>
                <div class="feedback" id="feedback1" style="display: none;"></div>
            </div>
            
            <div class="quiz-question" id="q2">
                <div class="question-text">2. Under the arm's length principle, controlled transactions should be priced:</div>
                <div class="options">
                    <div class="option" onclick="selectAnswer(this, false)">At the lowest possible price to minimize taxes</div>
                    <div class="option" onclick="selectAnswer(this, true)">As if the parties were independent and unrelated</div>
                    <div class="option" onclick="selectAnswer(this, false)">Based on the company's internal cost structure</div>
                    <div class="option" onclick="selectAnswer(this, false)">According to local market conditions only</div>
                </div>
                <div class="feedback" id="feedback2" style="display: none;"></div>
            </div>
            
            <div class="quiz-question" id="q3">
                <div class="question-text">3. Which of the following is NOT typically considered a transfer pricing method?</div>
                <div class="options">
                    <div class="option" onclick="selectAnswer(this, false)">Comparable Uncontrolled Price (CUP)</div>
                    <div class="option" onclick="selectAnswer(this, false)">Transactional Net Margin Method (TNMM)</div>
                    <div class="option" onclick="selectAnswer(this, true)">Historical Cost Method</div>
                    <div class="option" onclick="selectAnswer(this, false)">Profit Split Method</div>
                </div>
                <div class="feedback" id="feedback3" style="display: none;"></div>
            </div>
            
            <div class="navigation">
                <button class="btn" onclick="previousSection()">‚Üê Back</button>
                <button class="btn" onclick="nextSection()" id="quizNext" disabled>Continue to Scenario ‚Üí</button>
            </div>
        </div>

        <div class="lesson-section" id="section3">
            <h2 class="section-title">üé™ Match the Concepts</h2>
            <p style="margin-bottom: 20px;">Drag each term to its correct definition.</p>
            
            <div class="drag-drop-area">
                <div class="drag-items">
                    <h3>Terms</h3>
                    <div class="drag-item" draggable="true" data-term="cup-method">CUP Method</div>
                    <div class="drag-item" draggable="true" data-term="controlled-transaction">Controlled Transaction</div>
                    <div class="drag-item" draggable="true" data-term="related-parties">Related Parties</div>
                    <div class="drag-item" draggable="true" data-term="documentation">Documentation Requirements</div>
                </div>
                
                <div class="drop-zones">
                    <h3>Definitions</h3>
                    <div class="drop-zone" data-answer="related-parties">
                        Companies under common control or significant influence
                    </div>
                    <div class="drop-zone" data-answer="cup-method">
                        Compares prices in controlled vs. uncontrolled transactions
                    </div>
                    <div class="drop-zone" data-answer="controlled-transaction">
                        Transaction between members of the same multinational group
                    </div>
                    <div class="drop-zone" data-answer="documentation">
                        Legal obligations to maintain transfer pricing records
                    </div>
                </div>
            </div>
            
            <div class="navigation">
                <button class="btn" onclick="previousSection()">‚Üê Back</button>
                <button class="btn" onclick="checkDragDrop()">Check Answers</button>
                <button class="btn" onclick="nextSection()" id="dragNext" disabled>Continue to Scenario ‚Üí</button>
            </div>
        </div>

        <div class="lesson-section" id="section4">
            <h2 class="section-title">üíº Real-World Scenario</h2>
            
            <div class="scenario-box">
                <h3>Case Study: GlobalTech Industries</h3>
                <p>GlobalTech Industries has subsidiaries in the UK, Germany, and Singapore. The UK parent company licenses software to its German subsidiary for ‚Ç¨2 million annually. The German tax authority is questioning whether this pricing reflects the arm's length principle, as similar software licenses in the market range from ‚Ç¨1.5-3 million depending on functionality and market conditions.</p>
            </div>
            
            <div class="gap-fill">
                <h3>Complete the compliance report:</h3>
                <p><em>Tip: Click on a gap to select it, then click a word from the bank. Double-click a filled gap to clear it.</em></p>
                <p>To demonstrate compliance with <span class="gap" data-answer="arm's length">_______</span> pricing requirements, GlobalTech must prepare comprehensive <span class="gap" data-answer="documentation">_______</span> showing that the ‚Ç¨2 million license fee falls within the acceptable range of <span class="gap" data-answer="comparable">_______</span> transactions. The company should use the <span class="gap" data-answer="CUP">_______</span> method to benchmark the pricing against independent market transactions.</p>
                
                <div class="word-bank">
                    <div class="word-option" onclick="selectWord(this)">profit</div>
                    <div class="word-option" onclick="selectWord(this)">comparable</div>
                    <div class="word-option" onclick="selectWord(this)">revenue</div>
                    <div class="word-option" onclick="selectWord(this)">arm's length</div>
                    <div class="word-option" onclick="selectWord(this)">CUP</div>
                    <div class="word-option" onclick="selectWord(this)">documentation</div>
                </div>
            </div>
            
            <div class="navigation">
                <button class="btn" onclick="previousSection()">‚Üê Back</button>
                <button class="btn" onclick="checkGapFill()">Check Answers</button>
                <button class="btn" onclick="nextSection()" id="scenarioNext" disabled>Complete Lesson ‚Üí</button>
            </div>
        </div>

        <div class="lesson-section" id="section5">
            <div class="completion-badge show">
                <h2>üéâ Congratulations!</h2>
                <p>You have successfully completed the Transfer Pricing lesson!</p>
                <p>Your final score: <span id="finalScore">0</span>%</p>
            </div>
            
            <h2 class="section-title">üìã Lesson Summary</h2>
            <p>In this lesson, you learned about:</p>
            <ul style="margin: 20px 0; padding-left: 30px;">
                <li>Key transfer pricing vocabulary and definitions</li>
                <li>The arm's length principle and its importance</li>
                <li>Transfer pricing methods including CUP</li>
                <li>Documentation requirements for compliance</li>
                <li>Real-world application in international tax scenarios</li>
            </ul>
            
            <div class="navigation">
                <button class="btn" onclick="restartLesson()">üîÑ Restart Lesson</button>
                <button class="btn" onclick="downloadCertificate()">üìú Download Certificate</button>
            </div>
        </div>
    </div>

    <script>
        let currentSection = 1;
        let score = 0;
        let totalQuestions = 0;
        let quizAnswered = 0;
        let selectedGap = null;

        function updateProgress() {
            const progress = (currentSection - 1) / 4 * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function updateScore() {
            document.getElementById('scoreDisplay').textContent = `Score: ${score} / ${totalQuestions}`;
        }

        function nextSection() {
            document.getElementById(`section${currentSection}`).classList.remove('active');
            currentSection++;
            document.getElementById(`section${currentSection}`).classList.add('active');
            updateProgress();
        }

        function previousSection() {
            document.getElementById(`section${currentSection}`).classList.remove('active');
            currentSection--;
            document.getElementById(`section${currentSection}`).classList.add('active');
            updateProgress();
        }

        function revealDefinition(card) {
            const definition = card.querySelector('.vocab-definition');
            if (definition.style.display === 'none') {
                definition.style.display = 'block';
                card.style.background = '#e6fffa';
            }
        }

        function selectAnswer(option, isCorrect) {
            const question = option.closest('.quiz-question');
            const options = question.querySelectorAll('.option');
            const feedback = question.querySelector('.feedback');
            const questionId = question.id;
            
            // Disable all options
            options.forEach(opt => opt.style.pointerEvents = 'none');
            
            if (isCorrect) {
                option.classList.add('correct');
                feedback.className = 'feedback correct';
                feedback.textContent = '‚úì Correct! Well done.';
                score++;
            } else {
                option.classList.add('incorrect');
                feedback.className = 'feedback incorrect';
                feedback.textContent = '‚úó Incorrect. The correct answer is highlighted above.';
                // Highlight correct answer
                options.forEach(opt => {
                    if (opt.onclick.toString().includes('true')) {
                        opt.classList.add('correct');
                    }
                });
            }
            
            feedback.style.display = 'block';
            totalQuestions++;
            quizAnswered++;
            
            updateScore();
            
            if (quizAnswered === 3) {
                document.getElementById('quizNext').disabled = false;
            }
        }

        // Drag and Drop functionality
        let draggedItem = null;

        document.addEventListener('DOMContentLoaded', function() {
            const dragItems = document.querySelectorAll('.drag-item');
            const dropZones = document.querySelectorAll('.drop-zone');
            
            dragItems.forEach(item => {
                item.addEventListener('dragstart', function(e) {
                    draggedItem = this;
                    e.dataTransfer.effectAllowed = 'move';
                });
                item.addEventListener('dragend', function() {
                    draggedItem = null;
                });
            });
            
            dropZones.forEach(zone => {
                zone.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('drag-over');
                });
                
                zone.addEventListener('dragleave', function() {
                    this.classList.remove('drag-over');
                });
                
                zone.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('drag-over');
                    
                    if (draggedItem) {
                        // Check if a dropzone already has a term, and return it to the bank
                        const existingTerm = this.querySelector('.drag-item');
                        if (existingTerm) {
                            document.querySelector('.drag-items').appendChild(existingTerm);
                        }
                        
                        this.appendChild(draggedItem);
                    }
                });
            });
        });
        
        function checkDragDrop() {
            const dropZones = document.querySelectorAll('.drop-zone');
            let correct = 0;
            
            // Clear previous styling and feedback
            const existingFeedback = document.querySelector('#section3 .feedback');
            if (existingFeedback) {
                existingFeedback.remove();
            }
            dropZones.forEach(zone => {
                zone.classList.remove('correct-match', 'incorrect-match');
            });
            
            dropZones.forEach(zone => {
                const dragItem = zone.querySelector('.drag-item');
                if (dragItem) {
                    if (dragItem.dataset.term === zone.dataset.answer) {
                        zone.classList.add('correct-match');
                        correct++;
                    } else {
                        zone.classList.add('incorrect-match');
                    }
                }
            });
            
            score += correct;
            totalQuestions += 4;
            updateScore();
            
            if (correct === 4) {
                document.getElementById('dragNext').disabled = false;
            }
            
            // Show feedback
            const feedback = document.createElement('div');
            feedback.className = correct === 4 ? 'feedback correct' : 'feedback incorrect';
            feedback.textContent = correct === 4 ? '‚úì Perfect! All matches are correct.' : `‚úó ${correct}/4 correct. Red zones show incorrect matches.`;
            feedback.style.marginTop = '15px';
            document.querySelector('#section3 .drag-drop-area').appendChild(feedback);
        }


        function selectWord(wordElement) {
            if (selectedGap && !wordElement.classList.contains('used')) {
                // If gap already has a word, return that word to the bank
                if (selectedGap.dataset.selected) {
                    const wordBank = document.querySelector('.word-bank');
                    const wordOptions = wordBank.querySelectorAll('.word-option');
                    wordOptions.forEach(option => {
                        if (option.textContent === selectedGap.dataset.selected) {
                            option.classList.remove('used');
                        }
                    });
                }
                
                selectedGap.textContent = wordElement.textContent;
                selectedGap.dataset.selected = wordElement.textContent;
                wordElement.classList.add('used');
                selectedGap.style.background = 'white';
                selectedGap = null;
            }
        }

        // Gap fill functionality
        document.addEventListener('DOMContentLoaded', function() {
            const gaps = document.querySelectorAll('.gap');
            gaps.forEach(gap => {
                gap.addEventListener('click', function() {
                    if (selectedGap) selectedGap.style.background = 'white';
                    selectedGap = this;
                    this.style.background = '#bee3f8';
                });
                
                // Allow double-click to clear a gap
                gap.addEventListener('dblclick', function() {
                    if (this.dataset.selected) {
                        const wordBank = document.querySelector('.word-bank');
                        const wordOptions = wordBank.querySelectorAll('.word-option');
                        wordOptions.forEach(option => {
                            if (option.textContent === this.dataset.selected) {
                                option.classList.remove('used');
                            }
                        });
                        this.textContent = '_______';
                        delete this.dataset.selected;
                        this.style.background = 'white';
                    }
                });
            });
        });

        function checkGapFill() {
            const gaps = document.querySelectorAll('.gap');
            let correct = 0;
            
            gaps.forEach(gap => {
                if (gap.dataset.selected === gap.dataset.answer) {
                    gap.style.background = '#c6f6d5';
                    correct++;
                } else {
                    gap.style.background = '#fed7d7';
                }
            });
            
            score += correct;
            totalQuestions += gaps.length;
            updateScore();
            
            if (correct === gaps.length) {
                document.getElementById('scenarioNext').disabled = false;
            }
            
            // Show final score
            const finalScore = Math.round((score / totalQuestions) * 100);
            document.getElementById('finalScore').textContent = finalScore;
        }

        function restartLesson() {
            currentSection = 1;
            score = 0;
            totalQuestions = 0;
            quizAnswered = 0;
            
            // Reset all sections
            document.querySelectorAll('.lesson-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById('section1').classList.add('active');
            
            // Reset quiz
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('correct', 'incorrect');
                opt.style.pointerEvents = 'auto';
            });
            document.querySelectorAll('.feedback').forEach(f => {
                f.style.display = 'none';
            });
            document.getElementById('quizNext').disabled = true;

            // Reset drag & drop
            const dragItemsContainer = document.querySelector('.drag-items');
            document.querySelectorAll('.drop-zone').forEach(zone => {
                const item = zone.querySelector('.drag-item');
                if (item) {
                    dragItemsContainer.appendChild(item);
                }
                zone.classList.remove('correct-match', 'incorrect-match');
            });
            const ddFeedback = document.querySelector('#section3 .feedback');
            if (ddFeedback) ddFeedback.remove();
            document.getElementById('dragNext').disabled = true;

            // Reset gap fill
            document.querySelectorAll('.gap').forEach(gap => {
                gap.textContent = '_______';
                gap.style.background = 'white';
                delete gap.dataset.selected;
            });
            document.querySelectorAll('.word-option.used').forEach(word => {
                word.classList.remove('used');
            });
            document.getElementById('scenarioNext').disabled = true;

            // Reset completion
            document.getElementById('finalScore').textContent = '0';
            document.querySelector('.completion-badge').classList.remove('show');
            
            updateScore();
            updateProgress();
        }
    </script>
</body>
</html>
