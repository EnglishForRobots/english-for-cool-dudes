<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/png" href="/favicon.png" sizes="32x32">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="manifest" href="/manifest.json">
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English For Cool Dudes</title>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif; background: #F8F9FB; color: #2C3E50; line-height: 1.6; font-weight: 400; -webkit-font-smoothing: antialiased; }
        .header { background: #FFFFFF; border-bottom: 1px solid #E5E9F2; padding: 20px 0; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 4px rgba(0,0,0,0.04); margin-bottom: 20px; }
        .header-content { max-width: 1200px; margin: 0 auto; padding: 0 20px; display: flex; align-items: center; gap: 15px; }
        .header-left { display: flex; align-items: center; gap: 15px; }
        .logo { width: 36px; height: 36px; background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 20px; }
        .site-title { font-size: 20px; font-weight: 600; color: #1A202C; letter-spacing: -0.02em; text-decoration: none; }
        .header-buttons { display: flex; align-items: center; gap: 8px; }
        .header-button { text-decoration: none; padding: 7px 14px; border-radius: 6px; font-size: 14px; font-weight: 600; transition: all 0.2s; white-space: nowrap; cursor: pointer; border: 1px solid #E5E9F2; background: transparent; }
        .header-button.login { background: #F8F9FB; color: #4A5568; }
        .header-button.login:hover { background: #FFFFFF; color: #2C3E50; border-color: #718096; }
        .header-button.signup { background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%); color: white; border: 1px solid transparent; }
        .header-button.signup:hover { background: linear-gradient(135deg, #5A6AD0 0%, #6D4396 100%); box-shadow: 0 2px 5px rgba(102, 126, 234, 0.4); }
        .header-button.dashboard { background: #FFFBEA; color: #92400E; border-color: #FCD34D; }
        .header-button.dashboard:hover { background: #FCD34D; border-color: #F59E0B; }
        .header-button.logout { background: #F8F9FB; color: #E53E3E; }
        .header-button.logout:hover { background: #FEEBEB; color: #C53030; border-color: #FBD3DA; }
        .user-greeting { font-size: 14px; color: #4A5568; font-weight: 600; margin-right: 5px; white-space: nowrap; }
        .container { max-width: 1200px; margin: 0 auto; padding: 30px 20px; }
        .info-box { background: linear-gradient(135deg, #FFF9E6 0%, #FFF3CD 100%); border-left: 4px solid #F59E0B; padding: 20px 24px; border-radius: 10px; margin-bottom: 30px; box-shadow: 0 1px 3px rgba(0,0,0,0.04); }
        .info-box p { font-size: 15px; color: #92400E; font-weight: 600; margin: 0; line-height: 1.6; }
        .section { margin-bottom: 50px; }
        .section-header { display: flex; align-items: center; gap: 12px; margin-bottom: 24px; padding-bottom: 16px; border-bottom: 2px solid #E5E9F2; }
        .section-icon { font-size: 26px; }
        .section-title { font-size: 22px; font-weight: 600; color: #1A202C; letter-spacing: -0.02em; }
        .course-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
        .course-card { background: #FFFFFF; border: 1px solid #E5E9F2; border-radius: 12px; padding: 0; text-decoration: none; color: inherit; display: block; transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.04); }
        .course-card:hover { border-color: #667EEA; box-shadow: 0 4px 12px rgba(102, 126, 234, 0.12); transform: translateY(-2px); }
        .course-header { padding: 28px; background: linear-gradient(135deg, #F8F9FB 0%, #FFFFFF 100%); border-bottom: 1px solid #E5E9F2; }
        .course-icon { font-size: 48px; margin-bottom: 12px; display: block; }
        .course-title { font-size: 20px; font-weight: 600; color: #1A202C; margin-bottom: 8px; letter-spacing: -0.01em; }
        .course-level { display: inline-block; background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%); color: white; padding: 5px 14px; border-radius: 20px; font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.8px; }
        .course-body { padding: 28px; }
        .course-description { font-size: 15px; color: #4A5568; line-height: 1.7; margin-bottom: 18px; }
        .course-meta { display: flex; gap: 18px; font-size: 13px; color: #718096; font-weight: 600; padding-top: 18px; border-top: 1px solid #E5E9F2; }
        .meta-item { display: flex; align-items: center; gap: 5px; }
        .quick-links { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-bottom: 40px; }
        .quick-link { background: #FFFFFF; border: 1px solid #E5E9F2; border-radius: 10px; padding: 20px; text-decoration: none; color: inherit; display: flex; align-items: center; gap: 16px; transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 0 1px 3px rgba(0,0,0,0.04); }
        .quick-link:hover { border-color: #667EEA; background: #F8F9FB; box-shadow: 0 4px 12px rgba(102, 126, 234, 0.12); transform: translateY(-1px); }
        .quick-link-icon { font-size: 32px; flex-shrink: 0; }
        .quick-link-text { flex: 1; }
        .quick-link-title { font-size: 15px; font-weight: 600; color: #1A202C; margin-bottom: 3px; }
        .quick-link-desc { font-size: 13px; color: #718096; }
        
        #latest-updates-ticker { position: fixed; top: 20px; right: 50%; margin-right: -580px; z-index: 1000; cursor: pointer; background: #FFC107; color: #92400E; padding: 8px 15px; border-radius: 20px; font-size: 14px; font-weight: 600; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); transition: transform 0.2s, background-color 0.2s, opacity 0.2s; border: 2px solid #F59E0B; animation: pulse 2s infinite ease-in-out; text-decoration: none; white-space: nowrap; max-width: 450px; text-overflow: ellipsis; overflow: hidden; display: inline-block; }
        @keyframes pulse { 0% { transform: scale(1); box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); } 50% { transform: scale(1.03); box-shadow: 0 0 0 3px rgba(255, 193, 7, 0.6); } 100% { transform: scale(1); box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); } }
        #latest-updates-ticker:hover { background: #FFD54F; transform: scale(1.05); animation: none; }
        
        .footer { background: #FFFFFF; border-top: 1px solid #E5E9F2; padding: 32px 20px; margin-top: 60px; text-align: center; }
        .footer-text { font-size: 14px; color: #718096; }

        @media (max-width: 1240px) { #latest-updates-ticker { right: 20px; margin-right: 0; } }
        @media (max-width: 768px) { .user-greeting { display: none; } .header-button { padding: 6px 10px; font-size: 12px; } .welcome-banner { padding: 30px 20px; } .welcome-title { font-size: 26px; } .welcome-subtitle { font-size: 16px; } .course-grid { grid-template-columns: 1fr; } .quick-links { grid-template-columns: 1fr; } .section-title { font-size: 20px; } }
        @media (max-width: 480px) { .header-content { gap: 10px; } .logo { font-size: 28px; } .site-title { font-size: 18px; } .container { padding: 20px 15px 80px 15px; } .course-header, .course-body { padding: 20px; } #latest-updates-ticker { top: auto; bottom: 0; right: 0; left: 0; margin-right: 0; border-radius: 0; font-size: 13px; padding: 12px 15px; max-width: 100%; text-align: center; border: none; border-top: 2px solid #F59E0B; box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.1); } }
        @media (max-width: 896px) and (max-height: 480px) and (orientation: landscape) { #latest-updates-ticker { top: auto; bottom: 0; right: 0; left: 0; margin-right: 0; border-radius: 0; font-size: 12px; padding: 10px 15px; max-width: 100%; text-align: center; border: none; border-top: 2px solid #F59E0B; box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.1); } .container { padding-bottom: 70px; } }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="header-left">
                <span class="logo">üòé</span>
                <a href="/" class="site-title">English For Cool Dudes</a>
                <div id="logged-out-buttons" class="header-buttons" style="display: none;">
                    <a href="/login/" class="header-button login">Login</a>
                    <a href="/signup/" class="header-button signup">Sign Up</a>
                </div>
                <div id="logged-in-buttons" class="header-buttons" style="display: none;">
                    <span class="user-greeting" id="user-greeting">Hey Cool Dude! üëã</span>
                    <a href="/dashboard/" class="header-button dashboard">My Dashboard</a>
                    <button id="logout-btn" class="header-button logout">Sign Out</button>
                </div>
            </div>
        </div>
    </header>

    <div id="dictionary-overlay"></div>
    <div id="dictionary-popup"><div id="dictionary-content"></div></div>

    <a href="/VATdigital/" id="latest-updates-ticker">
        üåê NEW! TAX: The Netflix Tax üé¨üçø 
    </a>

    <main class="container">
        <div class="info-box">
            <p>‚úç Sign Up, Log in, Save Your Lessons and Words to Your Dashboard!</p>
        </div>

        <section class="section">
            <div class="section-header">
                <span class="section-icon">üíº</span>
                <h2 class="section-title">Specialized English</h2>
            </div>
            <div class="course-grid">
                <a href="/business/" class="course-card">
                    <div class="course-header">
                        <span class="course-icon">üíº</span>
                        <h3 class="course-title">Business English</h3>
                        <span class="course-level">Professional</span>
                    </div>
                    <div class="course-body">
                        <p class="course-description">Master professional communication for meetings, emails, presentations, and business negotiations.</p>
                        <div class="course-meta"><span class="meta-item">üìö Multiple lessons</span><span class="meta-item">‚è±Ô∏è Self-paced</span></div>
                    </div>
                </a>
                <a href="/tax/" class="course-card">
                    <div class="course-header">
                        <span class="course-icon">üí∞</span>
                        <h3 class="course-title">Tax English</h3>
                        <span class="course-level">Specialist</span>
                    </div>
                    <div class="course-body">
                        <p class="course-description">Learn tax terminology, concepts, and documentation language for accounting professionals.</p>
                        <div class="course-meta"><span class="meta-item">üìö Multiple lessons</span><span class="meta-item">‚è±Ô∏è Self-paced</span></div>
                    </div>
                </a>
                <a href="/legal/" class="course-card">
                    <div class="course-header">
                        <span class="course-icon">‚öñÔ∏è</span>
                        <h3 class="course-title">Legal English</h3>
                        <span class="course-level">Specialist</span>
                    </div>
                    <div class="course-body">
                        <p class="course-description">Navigate legal terminology, contracts, and documentation with confidence and precision.</p>
                        <div class="course-meta"><span class="meta-item">üìö Multiple lessons</span><span class="meta-item">‚è±Ô∏è Self-paced</span></div>
                    </div>
                </a>
            </div>
        </section>

        <section class="section">
            <div class="section-header">
                <span class="section-icon">üìñ</span>
                <h2 class="section-title">General English Courses</h2>
            </div>
            <div class="course-grid">
                <a href="/beginner/" class="course-card">
                    <div class="course-header">
                        <span class="course-icon">üå±</span>
                        <h3 class="course-title">Beginner Course</h3>
                        <span class="course-level">A1-A2</span>
                    </div>
                    <div class="course-body">
                        <p class="course-description">Start your English journey. Learn basic grammar, vocabulary, and everyday conversation skills.</p>
                        <div class="course-meta"><span class="meta-item">üìö Foundation level</span><span class="meta-item">‚è±Ô∏è Step by step</span></div>
                    </div>
                </a>
                <a href="/intermediate/" class="course-card">
                    <div class="course-header">
                        <span class="course-icon">üöÄ</span>
                        <h3 class="course-title">Intermediate Course</h3>
                        <span class="course-level">B1-B2</span>
                    </div>
                    <div class="course-body">
                        <p class="course-description">Build confidence with complex grammar and expand your vocabulary for real-world situations.</p>
                        <div class="course-meta"><span class="meta-item">üìö Expanding skills</span><span class="meta-item">‚è±Ô∏è Progressive</span></div>
                    </div>
                </a>
                <a href="/advanced/" class="course-card">
                    <div class="course-header">
                        <span class="course-icon">üéØ</span>
                        <h3 class="course-title">Advanced Course</h3>
                        <span class="course-level">C1-C2</span>
                    </div>
                    <div class="course-body">
                        <p class="course-description">Master sophisticated expressions, idioms, and achieve native-like fluency in British English.</p>
                        <div class="course-meta"><span class="meta-item">üìö Mastery level</span><span class="meta-item">‚è±Ô∏è Advanced</span></div>
                    </div>
                </a>
            </div>
        </section>

        <!-- NEW GAMES SECTION START -->
        <section class="section">
            <div class="section-header">
                <span class="section-icon">‚òï</span>
                <h2 class="section-title">The Break Room</h2>
            </div>
            <div class="quick-links">
                <a href="/games/" class="quick-link">
                    <span class="quick-link-icon">üéÆ</span>
                    <div class="quick-link-text">
                        <div class="quick-link-title">Game Zone</div>
                        <div class="quick-link-desc">Play Taboo, Memory Match & More</div>
                    </div>
                </a>
            </div>
        </section>
        <!-- NEW GAMES SECTION END -->

    </main>

    <footer class="footer">
        <p class="footer-text">¬© 2025 English For Cool Dudes - üòé</p>
        <div style="margin-top: 10px;">
            <a href="/impressum/" style="color: #667EEA; margin-right: 15px; text-decoration: none;">Impressum</a>
            <a href="/datenschutz/" style="color: #667EEA; text-decoration: none;">Datenschutzerkl√§rung</a>
        </div>
    </footer>

    <script>
        const SUPABASE_URL = 'https://knwgmrgwbpchqyqxbxea.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtud2dtcmd3YnBjaHF5cXhieGVhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI1MDkyODgsImV4cCI6MjA3ODA4NTI4OH0.qnp2ScwSE77_idmPhpLE98sr46WvLpKtg6refFfC7s8';
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        async function initializeAuthHeader() {
            const loggedOutButtons = document.getElementById('logged-out-buttons');
            const loggedInButtons = document.getElementById('logged-in-buttons');
            const logoutBtn = document.getElementById('logout-btn');
            const userGreeting = document.getElementById('user-greeting');
            try {
                const { data: { user } = {} } = await supabase.auth.getUser();
                if (user) {
                    const email = user.email || 'Cool Dude';
                    const username = email.split('@')[0];
                    if (userGreeting) userGreeting.textContent = `Hey ${username}! üëã`;
                    if (loggedOutButtons) loggedOutButtons.style.display = 'none';
                    if (loggedInButtons) loggedInButtons.style.display = 'flex';
                } else {
                    if (loggedOutButtons) loggedOutButtons.style.display = 'flex';
                    if (loggedInButtons) loggedInButtons.style.display = 'none';
                }
            } catch (err) { console.error('Error checking auth:', err); }
            if (logoutBtn) {
                logoutBtn.addEventListener('click', async () => {
                    try {
                        const { error } = await supabase.auth.signOut();
                        if (error) alert('Logout failed.'); else window.location.reload();
                    } catch (err) { console.error(err); }
                });
            }
        }
        const LESSON_STATES = [
            { text: 'üåê NEW! TAX: The Netflix Tax üé¨üçø', href: '/VATdigital/' },
            { text: 'üéÆ NEW! GAMES: The Break Room is Open! üé≤', href: '/games/' },
            { text: 'üî• NEW! INTERMEDIATE: Bonfire Night üß®', href: '/fawkes/' }
        ];
        let currentTickerIndex = 0;
        function updateTicker() {
            const ticker = document.getElementById('latest-updates-ticker');
            if (!ticker) return;
            currentTickerIndex = (currentTickerIndex + 1) % LESSON_STATES.length;
            ticker.style.opacity = 0;
            setTimeout(() => {
                ticker.textContent = LESSON_STATES[currentTickerIndex].text;
                ticker.href = LESSON_STATES[currentTickerIndex].href;
                ticker.style.opacity = 1;
            }, 200);
        }
        function startTickerAnimation() {
            setInterval(updateTicker, 4000);
        }
        document.addEventListener('DOMContentLoaded', async () => {
            await initializeAuthHeader();
            startTickerAnimation();
        });
    </script>
</body>
</html>
